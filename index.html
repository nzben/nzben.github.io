<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Current NZ Status</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href='output.css' rel='stylesheet'>
    <script>
      // Hello yes, if you refresh the page the phase will update properly
      // I don't want to wake up at midnight on the 15th to change the phase
      // Also not installing an entire framework for this tiny bit of JavaScript.
      window.onload = () => {
        const phaseElement = document.querySelector("#phase-value");
        const phaseThreeDate = new Date("February 24, 2022 23:59:00");
        const now = (new Date()).getTime();
        if(now > phaseThreeDate.getTime()) {
          phaseElement.innerHTML = "Three";
        } else {
          phaseElement.innerHTML = "Three-ish";
        }

        // tempting fate, but let's also pre-load the border re-opening step dates
        // we can always change these if they get delayed 🤷🏼‍♂️
        const stepElement = document.querySelector("#step-value");
        const stepOneDate = new Date("February 27, 2022 23:59:00");
        const stepTwoDate = new Date("March 4, 2022 23:59:00");
        const stepThreeDate = new Date("April 12, 2022 23:59:00");
        if(now > stepThreeDate.getTime()) {
          stepElement.innerHTML = "Three";
        } else if (now > stepTwoDate.getTime()) {
          stepElement.innerHTML = "Two";
        } else if (now > stepOneDate.getTime()) {
          stepElement.innerHTML = "¯\\_(ツ)_/¯";
        } else {
          stepElement.innerHTML = "Zero";
        }

      }
    </script>
</head>

<body class="bg-white flex content-center">

    <div class="max-w-sm rounded overflow-hidden shadow-lg mx-auto my-8">
        <img class="w-full" src="stripes.jpg" alt="Sunset in the mountains">
        <div class="px-6 py-4">
          <div class="font-bold text-xl text-gray-500 mb-2">Current New Zealand Status</div>
        </div>
        <div class="px-6 text-gray-700 text-base grid overflow-hidden grid-cols-4 grid-rows-5 gap-y-2">
            <div class="label">Light</div>
            <div class="box relative"><strong>🔴</strong>
              <p class="absolute right-2 bottom-1 text-xs"><a href="https://covid19.govt.nz/traffic-lights/">More info...</a></p>
            </div>
            <div class="label">Phase</div>
            <div class="box relative"><strong id="phase-value">One</strong>
              <p class="absolute right-2 bottom-1 text-xs"><a href="https://covid19.govt.nz/news-and-data/latest-news/government-announces-three-phase-public-health-response-to-omicron/">More info...</a></p>
            </div>
            <div class="label">Step</div>
            <div class="box relative"><strong id="step-value">Zero</strong>
              <p class="absolute right-2 bottom-1 text-xs"><a href="https://covid19.govt.nz/news-and-data/latest-news/new-zealand-border-to-reopen-in-stages-from-27-february">More info...</a></p>
            </div>
            <div class="label">Feels</div>
            <div class="box relative"><strong>☢️ &nbsp;👎🏻 &nbsp;&nbsp;   🕊 🇺🇦</strong>
              <p class="absolute right-2 bottom-1 text-xs"><a href="https://www.theguardian.com/world/ukraine">More info...</a></p>
            </div>
        </div>
        <div class="px-6 pb-2">
          <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">#covid</span>
          <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">#nz</span>
          <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">#status</span>
        </div>
      </div>
</body>

</html>